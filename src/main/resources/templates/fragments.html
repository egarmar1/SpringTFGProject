<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<body>
<div th:fragment="header">
    <header class="navbar navbar-expand-lg navbar-dark">
        <label class="mt-2 ms-5 font-weight-bold h5">
            <a href="/dashboard/">HackWeb</a>
            <span class="logo_com font-weight-bold h5" style="color: white">.com</span>
        </label>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo02"
                aria-controls="navbarTogglerDemo02" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarToggler">
            <ul class="navbar-nav m-auto mt-2 mt-lg-0">
                <li class="nav-item active">
                    <a sec:authorize="hasAuthority('Student') or hasAuthority('Admin')" class="nav-link"
                       th:href="@{/dashboard/}"><i class="fas fa-search"></i>Buscar ataque</a>
                </li>
                <li class="nav-item">
                    <a sec:authorize="hasAuthority('Student') or hasAuthority('Admin')" class="nav-link"
                       th:href="@{/saved-attacks/}"><i class="fa-solid fa-eye"></i>Ver ataques guardados</a>
                </li>
                <li class="nav-item">
                    <a sec:authorize="hasAuthority('Student') or hasAuthority('Admin')" class="nav-link"
                       th:href="@{/saved-videos/}"><i class="fa-solid fa-eye"></i>Ver videos guardados</a>
                </li>
                <li class="nav-item">
                    <a sec:authorize="hasAuthority('Student') or hasAuthority('Admin')" class="nav-link"
                       th:href="@{/user-profile/view}"><i class="fa-solid fa-pencil"></i>Editar perfil</a>
                </li>
                <li class="nav-item">
                    <a sec:authorize="hasAuthority('Admin')" class="nav-link" th:href="@{/attack/add}">
                        <i class="fa-solid fa-file-circle-plus"></i>Postear nuevo ataque</a>
                </li>
            </ul>

            <img class="rounded-circle me-3" height="50px" width="50x"
                 th:if="${user.photoImagePath!=null}" th:src="@{${user?.photoImagePath}}"/>
            <label th:if="${user.firstName != null && user.lastName != null}"
                   th:text="${user.firstName+' '+user.lastName}" class="nav-item nav-link px-2 me-3"></label>
            <label th:unless="${user.firstName != null && user.lastName != null}" th:text="${username}"
                   class="nav-item nav-link px-2 me-3"></label>
            <button class="myBtn-light me-5" onclick="window.location.href='/logout'">Cerrar Sesi√≥n</button>
        </div>
    </header>
</div>
</body>
</html>
